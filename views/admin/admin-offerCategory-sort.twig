{% extends 'admin/admin-layout.twig' %}

{% block content %}

<div>
    <table class="table table-hover table-bordered">
        <caption style="caption-side: top;">Lista kategorii kursów</caption>
        <thead class="thead-light">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Kod Kategorii</th>
                <th scope="col">Kolejność wyświetlania</th>
                <th scope="col">Zapisz</th>
            </tr>
        </thead>
        <tbody>
        {% for category in offerCategoryAll %}
                <tr>
                    <form id="formId{{ category.getId }}" action="/admin/pl/offerCategory/{{ category.getId }}/updateSortIndex" method="post" enctype="multipart/form-data">
                        <th scope="row">{{ category.getId }}</th>
                        <td>{{ category.getCode }}</td>
                        <td><input id="sortIndex" class="form-control" type="number" name="sort_index" value="{{ category.getSortIndex }}"></td>
                        <td><button type="button" class="btn btn-light" role="button" aria-pressed="true" onclick="submitForm('formId{{ category.getId }}')">Aktualizuj</button></td>
                    </form>
                </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
 
<hr>

<script>
    function submitForm(formId) {
        const element = document.getElementById(formId);
        element.submit();
    }
</script>

{% endblock %}

